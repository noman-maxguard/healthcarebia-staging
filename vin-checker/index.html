<!DOCTYPE html>
<html>
<head>
  <title>VIN Checker Demo</title>
</head>
<body>
  <form id="vin-checker-form" style="max-width:400px;">
    <label for="vin">Enter VIN:</label>
    <input type="text" id="vin" name="vin" maxlength="17" required style="width:100%;padding:8px;margin:8px 0;">
    <button type="submit">Check VIN</button>
  </form>
  <div id="vin-result" style="margin-top:16px;"></div>

  <script>
    document.getElementById('vin-checker-form').addEventListener('submit', async function(e) {
      e.preventDefault();
      const vin = document.getElementById('vin').value.trim();
      const resultDiv = document.getElementById('vin-result');
      resultDiv.textContent = 'Checking...';

      const response = await fetch('vin-demo.php', {
        method: 'POST',
        headers: {'Content-Type': 'application/x-www-form-urlencoded'},
        body: new URLSearchParams({vin: vin})
      });
      const data = await response.json();
      if (data.success) {
        resultDiv.innerHTML = `<b>Year:</b> ${data.year}<br><b>Make:</b> ${data.make}<br><b>Model:</b> ${data.model}`;
      } else {
        resultDiv.innerHTML = `<span style="color:red">${data.error || 'VIN not found'}</span>`;
      }
    });
  </script>
</body>
</html>
